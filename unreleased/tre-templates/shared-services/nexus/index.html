
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Azure TRE">
      
      
        <meta name="author" content="Microsoft">
      
      
        <link rel="canonical" href="https://microsoft.github.io/AzureTRE/unreleased/tre-templates/shared-services/nexus/">
      
      
        <link rel="prev" href="../gitea/">
      
      
        <link rel="next" href="../cyclecloud/">
      
      
      <link rel="icon" href="../../../assets/ms_icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Nexus (Package Mirror) - Azure TRE</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
<script type="text/javascript">
  (function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "7gescazz1m");
</script>

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nexus-shared-service" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../..">
    <strong>Click here to go to latest.</strong>
  </a>
</script>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Azure TRE" class="md-header__button md-logo" aria-label="Azure TRE" data-md-component="logo">
      
  <img src="../../../assets/ms_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Azure TRE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Nexus (Package Mirror)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/microsoft/AzureTre/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Azure TRE" class="md-nav__button md-logo" aria-label="Azure TRE" data-md-component="logo">
      
  <img src="../../../assets/ms_icon.png" alt="logo">

    </a>
    Azure TRE
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/microsoft/AzureTre/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../azure-tre-overview/user-roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Roles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../azure-tre-overview/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../azure-tre-overview/networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../azure-tre-overview/tre-resources-breakdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../azure-tre-overview/airlock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Airlock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../azure-tre-overview/cost-reporting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cost Reporting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../using-tre/terms-definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terms and Definitions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../azure-tre-overview/case-studies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Case Studies
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tre-admins/setup-instructions/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    QuickStart
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            QuickStart
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Prerequisites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/deployment-repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Deployment Repository
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/ad-tenant-choices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. AD Tenant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/setup-auth-entities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Setup Auth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    5. Deployment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            5. Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_1" >
        
          
          <label class="md-nav__link" for="__nav_2_6_1" id="__nav_2_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Manual
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_1">
            <span class="md-nav__icon md-icon"></span>
            Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/manual-pre-deployment-steps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-deployment Steps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/manual-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Steps
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6_2" >
        
          
          <label class="md-nav__link" for="__nav_2_6_2" id="__nav_2_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CI/CD
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6_2">
            <span class="md-nav__icon md-icon"></span>
            CI/CD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/cicd-pre-deployment-steps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-deployment Steps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/cicd-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Steps
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/configuring-shared-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6. Configure Shared Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/ui-install-base-workspace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7. Install Base Workspace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/ui-install-ws-and-ur/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8. Install Workspace Service and User Resource
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../using-tre/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Using the Azure TRE
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Using the Azure TRE
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../using-tre/templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../using-tre/tre-for-research/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Using AzureTRE for Research
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Using AzureTRE for Research
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../using-tre/tre-for-research/using-vms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set up of a Virtual Machine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../using-tre/tre-for-research/importing-exporting-data-airlock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Importing/exporting data with Airlock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../using-tre/tre-for-research/review-airlock-request/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reviewing Airlock Requests
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Templates and Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Templates and Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workspaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Workspaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspaces/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspaces/unrestricted/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unrestricted
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspaces/airlock-import-review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Airlock Import Review
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workspace Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Workspace Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/azure-ml/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure ML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/gitea/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gitea
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/guacamole/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guacamole
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/health_services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Health Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/databricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Databricks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/ohdsi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OHDSI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/mysql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MySQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/azuresql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure SQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workspace-services/openai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open AI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Shared Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Shared Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gitea/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gitea (Source Mirror)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Nexus (Package Mirror)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Nexus (Package Mirror)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-and-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Setup and usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Network requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-repos" class="md-nav__link">
    <span class="md-ellipsis">
      Current Repos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Current Repos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#migrate-from-an-existing-v1-nexus-service-hosted-on-app-service" class="md-nav__link">
    <span class="md-ellipsis">
      Migrate from an existing V1 Nexus service (hosted on App Service)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renewing-certificates-for-nexus" class="md-nav__link">
    <span class="md-ellipsis">
      Renewing certificates for Nexus
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-to-v300" class="md-nav__link">
    <span class="md-ellipsis">
      Updating to v3.0.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-docker-hub" class="md-nav__link">
    <span class="md-ellipsis">
      Using Docker Hub
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-vs-code-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Using the VS Code Extensions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cyclecloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure CycleCloud (HPC Compute)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../airlock-notifier/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Airlock Notifier
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            User Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-resources/guacamole-windows-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guacamole Windows VM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-resources/guacamole-linux-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guacamole Linux VM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-resources/import-reviewvm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Import Review VM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-resources/export-reviewvm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Export Review VM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Technical Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Technical Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Administration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Administration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/start-stop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Starting and Stopping Azure TRE Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/environment-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/tear-down/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tear-down
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Authentication and Authorization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Authentication and Authorization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/identities/auth-manual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manual Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4_3" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4_3" id="__nav_5_1_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Identities
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4_3">
            <span class="md-nav__icon md-icon"></span>
            Identities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/identities/application_admin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Admin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/identities/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/identities/client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/identities/test-account/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Automation Test Account
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/identities/workspace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workspaces
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/registering-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Registering Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_6" >
        
          
          <label class="md-nav__link" for="__nav_5_1_6" id="__nav_5_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Install Resources via API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_6">
            <span class="md-nav__icon md-icon"></span>
            Install Resources via API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/installing-base-workspace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Base Workspace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/installing-workspace-service-and-user-resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Workspace Service and User Resource
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/upgrading-tre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrading AzureTRE Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/upgrading-resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrading Resources Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/configure-airlock-review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring Airlock Reviews
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/supported-clouds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported Clouds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/customer-managed-keys/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customer Managed Keys
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/custom-domain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Domain Name
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/configure-firewall-force-tunneling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Firewall Force Tunneling
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../using-tre/local-development/local-development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local Development
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tre-developers/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Contributing to AzureTRE
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Contributing to AzureTRE
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-developers/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-developers/ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-developers/resource-processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resource Processor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-developers/end-to-end-tests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    End to End Tests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-developers/letsencrypt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Letsencrypt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-developers/release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-admins/setup-instructions/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-developers/github-pr-bot-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub PR Bot Commands
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3" >
        
          
          <label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Developing Workspace Templates
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Developing Workspace Templates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-workspace-authors/authoring-workspace-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authoring Workspace Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-workspace-authors/firewall-rules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Firewall Rules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3_3" >
        
          
          <label class="md-nav__link" for="__nav_5_2_3_3" id="__nav_5_2_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pipeline Templates
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            Pipeline Templates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-templates/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pipeline-templates/pipeline-schema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pipeline Schema
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tre-developers/CLI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AzureTRE CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../troubleshooting-faq/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Troubleshooting FAQ
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting FAQ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting-faq/debug-logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enabling DEBUG logs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting-faq/api-logs-deployment-center/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API logs using deployment center
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting-faq/troubleshooting-sb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Checking the Service Bus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting-faq/app-insights-logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Checking Logs in Application Insights
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting-faq/troubleshooting-rp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting the Resource Processor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting-faq/airlock-troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting the Airlock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting-faq/manually-editing-resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manually edit resources in Cosmos DB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting-faq/cloud-init/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting cloud-init
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-and-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Setup and usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Network requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-repos" class="md-nav__link">
    <span class="md-ellipsis">
      Current Repos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Current Repos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#migrate-from-an-existing-v1-nexus-service-hosted-on-app-service" class="md-nav__link">
    <span class="md-ellipsis">
      Migrate from an existing V1 Nexus service (hosted on App Service)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#renewing-certificates-for-nexus" class="md-nav__link">
    <span class="md-ellipsis">
      Renewing certificates for Nexus
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-to-v300" class="md-nav__link">
    <span class="md-ellipsis">
      Updating to v3.0.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-docker-hub" class="md-nav__link">
    <span class="md-ellipsis">
      Using Docker Hub
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-vs-code-extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Using the VS Code Extensions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="nexus-shared-service">Nexus Shared Service</h1>
<p>Sonatype Nexus (RepoManager) allows users in workspaces to access external software packages securely.</p>
<p>Documentation on Nexus can be found here: <a href="https://help.sonatype.com/repomanager3/">https://help.sonatype.com/repomanager3/</a>.</p>
<h2 id="deploy">Deploy</h2>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Before deploying the Nexus service, you will need workspaces of version <code>0.3.2</code> or above due to a dependency on a DNS zone link for the workspace(s) to connect to the Nexus VM.</p>
</div>
<p>Before deploying the Nexus shared service, you need to make sure that it will have access to a certificate to configure serving secure proxies. By default, the Nexus service will serve proxies from <code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/</code>, and thus it requires a certificate that validates ownership of this domain to use for SSL.</p>
<p>You can use the Certs Shared Service to set one up by following these steps:</p>
<ol>
<li>
<p>Run the below command in your terminal to build, publish and register the certs bundle:</p>
<div class="highlight"><pre><span></span><code>make shared_service_bundle BUNDLE=certs
</code></pre></div>
</li>
<li>
<p>Navigate to the TRE UI, click on Shared Services in the navigation menu and click <em>Create new</em>.</p>
</li>
<li>
<p>Select the Certs template, then fill in the required details. <em>Domain prefix</em> should be set to <code>nexus</code> and <em>Cert name</em> should be <code>nexus-ssl</code>.</p>
</li>
</ol>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If you have Key Vault Purge Protection enabled and are re-deploying your environment using the same <code>cert_name</code>, you may encounter this: <code>Status=409 Code=\"Conflict\" Message=\"Certificate nexus-ssl is currently in a deleted but recoverable state</code>. You need to either manually recover the certificate or purge it before redeploying.</p>
</div>
<p>Once deployed, the certs service will use Let's Encrypt to generate a certificate for the specified domain prefix followed by <code>-{TRE_ID}.{LOCATION}.cloudapp.azure.com</code>, so in our case, having entered <code>nexus</code>, this will be <code>nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com</code>, which will be the public domain for our Nexus service.</p>
<p>You can verify whether this has been successful by navigating to your core Key Vault (<code>kv-{TRE_ID}</code>) and looking for a certificate called <code>nexus-ssl</code> (or whatever you called it).</p>
<p>After verifying the certificate has been generated, you can deploy Nexus:</p>
<ol>
<li>
<p>Run the below command in your terminal to build, publish and register the Nexus shared service bundle:</p>
<div class="highlight"><pre><span></span><code>make shared_service_bundle BUNDLE=sonatype-nexus-vm
</code></pre></div>
</li>
<li>
<p>Navigate back to the TRE UI, and click <em>Create new</em> again within the Shared Services page.</p>
</li>
<li>
<p>Select the Nexus template, then fill in the required details. The <em>SSL certificate name</em> should default to <code>nexus-ssl</code>, so there's no need to change it unless you gave it a different name in the previous step.</p>
</li>
</ol>
<p>This will deploy the infrastructure required for Nexus, then start the service and configure it with the repository configurations located in the <code>./templates/shared_services/sonatype-nexus-vm/scripts/nexus_repos_config</code> folder. It will also set up HTTPS using the certificate you generated in the previous section, so proxies can be served at <code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com</code>.</p>
<h2 id="setup-and-usage">Setup and usage</h2>
<ol>
<li>A TRE Administrator can access Nexus though the admin jumpbox provisioned as part of the TRE deployment. The username is <code>adminuser</code> and the password is located in the Key Vault under <code>vm-&lt;tre-id&gt;-jumpbox-password</code></li>
<li>A researcher can access Nexus from within the workspace by using the internal Nexus URL of <code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com</code></li>
<li>To fetch Python packages from the PyPI proxy, a researcher can use <code>pip install</code> while specifying the proxy server:<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>packagename<span class="w"> </span>--index-url<span class="w"> </span>https://nexus-<span class="o">{</span>TRE_ID<span class="o">}</span>.<span class="o">{</span>LOCATION<span class="o">}</span>.cloudapp.azure.com/repository/apt-pypi/simple
</code></pre></div>
</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>In the built-in Linux and Windows Guacamole VM bundles, PyPI and several other package managers are already configured to use the Nexus proxy by default, so manually specifying in the install commands isn't necessary.</p>
</div>
<h2 id="network-requirements">Network requirements</h2>
<p>Nexus Shared Service requires access to resources outside of the Azure TRE VNET. These are set as part of the firewall provisioning pipeline via explicit allow on <a href="https://docs.microsoft.com/en-us/azure/virtual-network/service-tags-overview">Service Tags</a> or URLs.</p>
<table>
<thead>
<tr>
<th>Service Tag / Destination</th>
<th>Justification</th>
</tr>
</thead>
<tbody>
<tr>
<td>AzureActiveDirectory</td>
<td>Authorize the signed in user against Microsoft Entra ID.</td>
</tr>
<tr>
<td>AzureContainerRegistry</td>
<td>Pull the Nexus container image, as it is located in Azure Container Registry.</td>
</tr>
<tr>
<td>pypi.org, *.pypi.org</td>
<td>Enables Nexus to "proxy" python packages to use inside of workspaces.</td>
</tr>
<tr>
<td>repo.anaconda.com</td>
<td>Enables Nexus to "proxy" conda packages to use inside of workspaces.</td>
</tr>
<tr>
<td>conda.anaconda.org</td>
<td>Enables Nexus to "proxy" additional conda packages to use inside of workspaces such as conda-forge.</td>
</tr>
<tr>
<td>*.docker.com</td>
<td>Enables Nexus to "proxy" docker repos to use inside of workspaces.</td>
</tr>
<tr>
<td>*.docker.io</td>
<td>Enables Nexus to "proxy" docker repos to use inside of workspaces.</td>
</tr>
<tr>
<td>archive.ubuntu.com</td>
<td>Enables Nexus to "proxy" apt packages to use inside of workspaces.</td>
</tr>
<tr>
<td>security.ubuntu.com</td>
<td>Enables Nexus to "proxy" apt packages to use inside of workspaces.</td>
</tr>
</tbody>
</table>
<h2 id="current-repos">Current Repos</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Source URI</th>
<th>Nexus URI</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>PyPI</td>
<td>PyPI</td>
<td>[https://pypi.org/]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/pypi/</code></td>
<td>Allow use of pip commands.</td>
</tr>
<tr>
<td>Conda</td>
<td>conda</td>
<td>[https://repo.anaconda.com/pkgs]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/conda-repo/</code></td>
<td>Configure conda to have access to default conda packages.</td>
</tr>
<tr>
<td>Conda Mirror</td>
<td>conda</td>
<td>[https://conda.anaconda.org]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/conda-mirror/</code></td>
<td>Configure conda to have access to conda mirror packages.</td>
</tr>
<tr>
<td>Docker</td>
<td>apt</td>
<td>[https://download.docker.com/linux/ubuntu/]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/docker/</code></td>
<td>Install Docker via apt on Linux systems.</td>
</tr>
<tr>
<td>Docker GPG</td>
<td>raw</td>
<td>[https://download.docker.com/linux/ubuntu/]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/docker-public-key/</code></td>
<td>Provide public key to sign apt source for above Docker apt.</td>
</tr>
<tr>
<td>Docker Hub</td>
<td>docker</td>
<td>[https://registry-1.docker.io]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/docker-hub/</code></td>
<td>Provide docker access to public images repo.</td>
</tr>
<tr>
<td>Ubuntu Packages</td>
<td>apt</td>
<td>[http://archive.ubuntu.com/ubuntu/]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/ubuntu/</code></td>
<td>Provide access to Ubuntu apt packages on Ubuntu systems.</td>
</tr>
<tr>
<td>Ubuntu Security Packages</td>
<td>apt</td>
<td>[http://security.ubuntu.com/ubuntu/]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/ubuntu-security/</code></td>
<td>Provide access to Ubuntu Security apt packages on Ubuntu systems.</td>
</tr>
<tr>
<td>Almalinux</td>
<td>yum</td>
<td>[https://repo.almalinux.org]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/almalinux</code></td>
<td>Install Almalinux packages</td>
</tr>
<tr>
<td>R-Proxy</td>
<td>r</td>
<td>[https://cran.r-project.org/]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/r-proxy</code></td>
<td>Provide access to CRAN packages for R</td>
</tr>
<tr>
<td>R-Studio Download</td>
<td>raw</td>
<td>[https://download1.rstudio.org]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/r-studio-download</code></td>
<td>Provide access to download R Studio</td>
</tr>
<tr>
<td>Fedora Project</td>
<td>yum</td>
<td>[https://download-ib01.fedoraproject.org]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/fedoraproject</code></td>
<td>Install Fedora Project Linux packages</td>
</tr>
<tr>
<td>Microsoft Apt</td>
<td>apt</td>
<td>[https://packages.microsoft.com]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/microsoft-apt</code></td>
<td>Provide access to Microsoft Apt packages</td>
</tr>
<tr>
<td>Microsoft Keys</td>
<td>raw</td>
<td>[https://packages.microsoft.com/keys/]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/microsoft-keys</code></td>
<td>Provide access to Microsoft keys</td>
</tr>
<tr>
<td>Microsoft Yum</td>
<td>yum</td>
<td>[https://packages.microsoft.com/yumrepos]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/microsoft-yum</code></td>
<td>Provide access to Microsoft Yum packages</td>
</tr>
<tr>
<td>Microsoft Download</td>
<td>raw</td>
<td>[https://download.microsoft.com/download]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/microsoft-download</code></td>
<td>Provide access to Microsoft Downloads</td>
</tr>
<tr>
<td>VS Code Extensions</td>
<td>raw</td>
<td>[https://marketplace.visualstudio.com/_apis/public/gallery/publishers/]</td>
<td><code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/repository/vscode-extensions/</code></td>
<td>Provide access to VS Code extensions</td>
</tr>
</tbody>
</table>
<h3 id="migrate-from-an-existing-v1-nexus-service-hosted-on-app-service">Migrate from an existing V1 Nexus service (hosted on App Service)</h3>
<p>If you still have an existing Nexus installation based on App Service (from the original V1 bundle), you can migrate to the VM-based Nexus service by following these steps:</p>
<ol>
<li>
<p>Install the new Nexus service alongside your old installation using the steps from earlier in this document.</p>
</li>
<li>
<p>Identify any existing Guacamole user resources that are using the old proxy URL (<code>https://nexus-{TRE_ID}.azurewebsites.net/</code>). These will be any VMs with bundle versions &lt; <code>0.3.2</code> that haven't been manually updated.</p>
</li>
<li>
<p>These will need to be either <strong>re-deployed</strong> with the new template versions <code>0.3.2</code> or later and specifying an additional template parameter <code>"nexus_version"</code> with the value of <code>"V2"</code>, or manually have their proxy URLs updated by remoting into the VMs and updating the various configuration files of required package managers with the new URL (<code>https://nexus-{TRE_ID}.{LOCATION}.cloudapp.azure.com/</code>).</p>
<ol>
<li>For example, pip will need the <code>index</code>, <code>index-url</code> and <code>trusted-host</code> values in the global <code>pip.conf</code> file to be modified to use the new URL.</li>
</ol>
</li>
<li>
<p>Once you've confirmed there are no dependencies on the old Nexus shared service, you can delete it using the API or UI.</p>
</li>
</ol>
<h2 id="renewing-certificates-for-nexus">Renewing certificates for Nexus</h2>
<p>The Nexus service checks Key Vault regularly for the latest certificate matching the name you passed on deploy (<code>nexus-ssl</code> by default).</p>
<p>When approaching expiry, you can either provide an updated certificate into the TRE core KeyVault (with the name you specified when installing Nexus) if you brought your own, or if you used the certs shared service to generate one, just call the <code>renew</code> custom action on that service. This will generate a new certificate and persist it to the Key Vault, replacing the expired one.</p>
<h2 id="updating-to-v300">Updating to v3.0.0</h2>
<p>The newest version of Nexus is a significant update for the service.
As a result, a new installation of Nexus will be necessary.</p>
<p>We are currently in the process of developing an upgrade path for upcoming releases.</p>
<h2 id="using-docker-hub">Using Docker Hub</h2>
<p>When using Docker with a VM, the image URL should be constructed as follows: {NEXUS_URL}:{port}/docker-image</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span><span class="o">{</span>NEXUS_URL<span class="o">}</span>:8083/hello-world
</code></pre></div>
<p>the default port out of the box is 8083</p>
<p>Nexus will also need "Anonymous Access" set to "Enable". This can be done by logging into the Nexus Portal with the Admin user and following the prompts.</p>
<h2 id="using-the-vs-code-extensions">Using the VS Code Extensions</h2>
<p>To fetch and install VS Code extensions, use the following commands:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-o<span class="w"> </span><span class="o">{</span>publisher<span class="o">}</span>-<span class="o">{</span>extension<span class="o">}</span>-<span class="o">{</span>version<span class="o">}</span>.vsix<span class="w"> </span>https://nexus-<span class="o">{</span>TRE_ID<span class="o">}</span>.<span class="o">{</span>LOCATION<span class="o">}</span>.cloudapp.azure.com/repository/vscode-extensions/<span class="o">{</span>publisher<span class="o">}</span>/vsextensions/<span class="o">{</span>extension<span class="o">}</span>/<span class="o">{</span>version<span class="o">}</span>/vspackage

code<span class="w"> </span>--install-extension<span class="w"> </span><span class="o">{</span>publisher<span class="o">}</span>-<span class="o">{</span>extension<span class="o">}</span>-<span class="o">{</span>version<span class="o">}</span>.vsix
</code></pre></div>
<p>The extensions which are  available to users can be restricted by configuring content selectors using the package <code>path</code> via the SonatypeNexus RM web interface.</p>
<p>If extensions want to be intalled in bulk, a script such as the following can be used:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Function to display usage</span>
usage<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> -t TRE_ID -l LOCATION [--install]&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="o">}</span>

<span class="c1"># Parse command line arguments</span>
<span class="nv">INSTALL</span><span class="o">=</span><span class="nb">false</span>
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$#</span><span class="s2">&quot;</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="k">in</span>
<span class="w">        </span>-t<span class="p">|</span>--tre-id<span class="o">)</span><span class="w"> </span><span class="nv">TRE_ID</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nb">shift</span><span class="w"> </span><span class="p">;;</span>
<span class="w">        </span>-l<span class="p">|</span>--location<span class="o">)</span><span class="w"> </span><span class="nv">LOCATION</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="nb">shift</span><span class="w"> </span><span class="p">;;</span>
<span class="w">        </span>--install<span class="o">)</span><span class="w"> </span><span class="nv">INSTALL</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span><span class="p">;;</span>
<span class="w">        </span>*<span class="o">)</span><span class="w"> </span>usage<span class="w"> </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="w">    </span><span class="nb">shift</span>
<span class="k">done</span>

<span class="c1"># Check if TRE_ID and LOCATION are provided</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$TRE_ID</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LOCATION</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>usage
<span class="k">fi</span>

<span class="c1"># Define the list of extensions</span>
<span class="nv">extensions</span><span class="o">=(</span>
<span class="w">    </span><span class="s2">&quot;ms-python.debugpy@2024.14.0&quot;</span>
<span class="w">    </span><span class="s2">&quot;ms-python.python@2024.22.0&quot;</span>
<span class="w">    </span><span class="s2">&quot;ms-python.vscode-pylance@2024.12.1&quot;</span>
<span class="w">    </span><span class="s2">&quot;ms-toolsai.datawrangler@1.14.0&quot;</span>
<span class="w">    </span><span class="s2">&quot;ms-toolsai.jupyter@2024.10.0&quot;</span>
<span class="w">    </span><span class="s2">&quot;ms-toolsai.jupyter-keymap@1.1.2&quot;</span>
<span class="w">    </span><span class="s2">&quot;ms-toolsai.jupyter-renderers@1.0.21&quot;</span>
<span class="w">    </span><span class="s2">&quot;ms-toolsai.vscode-jupyter-cell-tags@0.1.9&quot;</span>
<span class="w">    </span><span class="s2">&quot;ms-toolsai.vscode-jupyter-slideshow@0.1.6&quot;</span>
<span class="o">)</span>

<span class="c1"># Define the base URL</span>
<span class="nv">base_url</span><span class="o">=</span><span class="s2">&quot;https://nexus-</span><span class="si">${</span><span class="nv">TRE_ID</span><span class="si">}</span><span class="s2">.</span><span class="si">${</span><span class="nv">LOCATION</span><span class="si">}</span><span class="s2">.cloudapp.azure.com/repository/vscode-extensions&quot;</span>

<span class="c1"># Loop through each extension and download it</span>
<span class="k">for</span><span class="w"> </span>ext<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">extensions</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39;@&#39;</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>publisher_extension<span class="w"> </span>version<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$ext</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">IFS</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>publisher<span class="w"> </span>extension<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$publisher_extension</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nv">vsix_file</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">publisher</span><span class="si">}</span><span class="s2">-</span><span class="si">${</span><span class="nv">extension</span><span class="si">}</span><span class="s2">-</span><span class="si">${</span><span class="nv">version</span><span class="si">}</span><span class="s2">.vsix&quot;</span>
<span class="w">    </span>curl<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$vsix_file</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">base_url</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">publisher</span><span class="si">}</span><span class="s2">/vsextensions/</span><span class="si">${</span><span class="nv">extension</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">version</span><span class="si">}</span><span class="s2">/vspackage&quot;</span>

<span class="w">    </span><span class="c1"># Install the extension if --install flag is set</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$INSTALL</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span>code<span class="w"> </span>--install-extension<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$vsix_file</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">done</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>